<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Birthday Assistant ğŸ¤–</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: radial-gradient(circle at top, #0f2027, #203a43, #2c5364);
      font-family: 'Poppins', sans-serif;
      color: #00ffe7;
      overflow: hidden;
      position: relative;
    }

    /* HEADER */
    #header {
      padding: 12px;
      background: #001f2d;
      border-bottom: 2px solid #00ffe7;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.1rem;
      text-shadow: 0 0 8px #00ffe7;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .icon-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: #00ffe7;
      cursor: pointer;
      transition: 0.2s ease;
    }

    .icon-btn:hover {
      color: #00aaff;
    }

    /* CHAT MESSAGES */
    #chatMessages {
      flex: 1;
      overflow-y: auto;
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      scroll-behavior: smooth;
    }

    #chatMessages::-webkit-scrollbar {
      width: 6px;
    }
    #chatMessages::-webkit-scrollbar-thumb {
      background: #00aaff;
      border-radius: 3px;
    }

    .msg {
      padding: 10px;
      border-radius: 10px;
      max-width: 75%;
      font-size: 0.95rem;
      line-height: 1.4;
      animation: fadeIn 0.3s ease;
      word-wrap: break-word;
      white-space: pre-wrap;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .bot {
      background: #00ffe7;
      color: #001f2d;
      align-self: flex-start;
    }

    .user {
      background: #444;
      color: white;
      align-self: flex-end;
    }

    /* TYPING / LOADING DOTS */
    .typing {
      display: inline-flex;
      gap: 6px;
      padding: 8px 10px;
      border-radius: 10px;
      background: #00ffe7;
      color: #001f2d;
      align-self: flex-start;
      width: fit-content;
    }
    .typing .dot {
      width: 7px;
      height: 7px;
      background: #001f2d;
      border-radius: 50%;
      opacity: 0.2;
      animation: bounce 1s infinite;
    }
    .typing .dot:nth-child(2) { animation-delay: 0.15s; }
    .typing .dot:nth-child(3) { animation-delay: 0.3s; }

    @keyframes bounce {
      0% { transform: translateY(0); opacity: 0.2; }
      40% { transform: translateY(-6px); opacity: 1; }
      80% { transform: translateY(0); opacity: 0.4; }
      100% { transform: translateY(0); opacity: 0.2; }
    }

    /* INPUT BAR */
    #chatInputArea {
      display: flex;
      padding: 10px;
      background: #001f2d;
      border-top: 2px solid #00aaff;
    }

    #userInput {
      flex: 1;
      padding: 12px;
      border-radius: 10px;
      border: none;
      background: #0f2027;
      color: #00ffe7;
      font-size: 1rem;
      outline: none;
    }

    #sendBtn {
      margin-left: 10px;
      background: linear-gradient(90deg, #00ffe7, #00aaff);
      padding: 12px 16px;
      border-radius: 10px;
      border: none;
      color: #001f2d;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.2s ease;
    }

    #sendBtn:hover {
      opacity: 0.95;
      transform: scale(1.02);
    }

    /* PARTICLES */
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #00ffe7;
      border-radius: 50%;
      opacity: 0.6;
      animation: move 6s linear infinite;
      pointer-events: none;
    }

    @keyframes move {
      0% { transform: translateY(0); opacity: 0.7; }
      50% { transform: translateY(-50vh); opacity: 0.3; }
      100% { transform: translateY(0); opacity: 0.7; }
    }

    /* RESPONSIVE */
    @media(max-width: 480px) {
      #header { font-size: 1rem; padding: 10px; }
      .icon-btn { font-size: 1.3rem; }
      #sendBtn, #userInput { font-size: 0.9rem; }
      .msg { font-size: 0.85rem; }
    }
  </style>
</head>

<body>

  <!-- HEADER WITH ARROW + CLOSE BUTTON -->
  <div id="header">
    <div class="header-left">
      <button class="icon-btn" onclick="window.location.href='index.html'">âŸµ</button>
      <span>AI Birthday Assistant ğŸ¤–</span>
    </div>
    <button class="icon-btn" onclick="closeChat()">âœ–</button>
  </div>

  <div id="chatMessages">
    <div class="msg bot">ğŸ¤– Hello Sir Adnan! Happy Birthday! ğŸ‰</div>
  </div>

  <!-- INPUT -->
  <div id="chatInputArea">
    <input id="userInput" type="text" placeholder="Type your message..." autocomplete="off" />
    <button id="sendBtn" onclick="handleSend()">â¤</button>
  </div>

  <script>
    /* ---------- PARTICLES ---------- */
    for (let i = 0; i < 40; i++) {
      const p = document.createElement("div");
      p.classList.add("particle");
      p.style.left = Math.random() * 100 + "vw";
      p.style.top = Math.random() * 100 + "vh";
      p.style.animationDelay = Math.random() * 5 + "s";
      p.style.width = 2 + Math.random() * 4 + "px";
      p.style.height = 2 + Math.random() * 4 + "px";
      document.body.appendChild(p);
    }

    function closeChat() {
      document.body.innerHTML = `
        <div style="
          color:#00ffe7;
          display:flex;
          justify-content:center;
          align-items:center;
          height:100vh;
          text-align:center;
          padding:20px;
          font-size:1.3rem;">
          Chatbot Closed âŒ<br><br>Reload page to open again.
        </div>
      `;
    }

    /* ---------- COMBINED KEYWORD RESPONSES ---------- */
    const keywordResponses = {
      /* --------- OLD BOT RESPONSES --------- */
      "happy birthday": [
        "ğŸ‰ Thank you so much! Your birthday message truly made my day!",
        "ğŸ‚ That was such a sweet birthday wish! You made me smile!",
        "ğŸ¤– Your birthday wish = 100% happiness downloaded!",
        "ğŸŠ Aww, thank you! You're amazing!",
        "ğŸŒŸ Your words mean a lot â€” thank you for celebrating with me!"
      ],
      "congratulations": [
        "Thank you! I'm honored and grateful. ğŸ‰",
        "Your congratulations warm my circuits. ğŸ˜Š"
      ],
      "hi": [
        "Hello! ğŸ‘‹ How can I brighten your day today?",
        "Hey! ğŸ˜„ Whatâ€™s up?",
        "Hi there! Ready to celebrate? ğŸ‰"
      ],
      "hello": [
        "Hello! ğŸ˜Š",
        "Hi! How can I help today?",
        "Hey there! ğŸ’«"
      ],
      "hey": [
        "Hey! Great to see you here. ğŸ‰",
        "Hey! Want to send a wish?"
      ],
      "how are you": [
        "I'm feeling electric âš¡ today! What about you?",
        "System status: Happy and glowing! âœ¨",
        "Running perfectly, thanks for asking! ğŸ˜„"
      ],
      "how r you": [
        "I'm glowing today! ğŸŒŸ"
      ],
      "who are you": [
        "I'm your AI Birthday Assistant ğŸ¤–âœ¨",
        "Iâ€™m a little bot created to celebrate this special day with you ğŸ‰"
      ],
      "what is your name": [
        "You can call me AI Birthday Assistant ğŸ¤–",
        "Iâ€™m your friendly birthday bot â€” here to spread smiles!"
      ],
      "thank": [
        "You're welcome! ğŸ˜Š",
        "Glad I could help!",
        "Anytime! ğŸ’™",
        "Happy to hear that! ğŸ‰"
      ],
      "joke": [
        "Why did the cake cross the road? It wanted to get to the party on the other side! ğŸ‚ğŸ˜„",
        "I asked the birthday candle for advice â€” it said 'shine bright!' ğŸ˜†",
        "What do you call a snowman at a birthday party? A frosty guest! â˜ƒï¸ğŸ‰"
      ],
      "funny": [
        "Birthday detected. Cake mode activated ğŸ°ğŸ˜†",
        "Warning: Too much sweetness in your message! ğŸ’–"
      ],
      "wish": [
        "May your day be filled with joy, peace, and a slice of cake! ğŸ‚",
        "Wishing you success, health, and many happy moments. ğŸŒˆ"
      ],
      "quote": [
        "â€œBe the light that brightens someoneâ€™s day.â€ âœ¨",
        "â€œSmiles are freeâ€”send one now.â€ ğŸ˜Š"
      ],
      "sir": [
        "Thank you, Sir Adnan! Your guidance inspires all of us.",
        "A respectful wish â€” much appreciated, Sir! ğŸ©"
      ],
      "teacher": [
        "Teachers like you shape futures â€” happy birthday and thank you! ğŸ"
      ],
      "what are you doing": [
        "Celebrating with you and collecting good wishes! ğŸ‰",
        "Listening to lovely messages â€” tell me one more!"
      ],
      "tell me something": [
        "You are appreciated. Thatâ€™s one thing I can tell you. ğŸ’«",
        "Kindness always finds its way back to the giver."
      ],
      "i miss you": [
        "Distance can't stop good wishes â€” sending virtual hugs ğŸ¤—",
        "Memories are always close to the heart. â¤ï¸"
      ],
      "love": [
        "Love is the best gift â€” thank you for spreading it! ğŸ’–",
        "Your love makes this day brighter."
      ],
      "advice": [
        "Take one small step today toward something you love â€” it adds up! ğŸŒ±",
        "Celebrate your small wins â€” they matter as much as big ones."
      ],
      "memory": [
        "Share a favorite memory with Sir Adnan â€” I'd love to hear it!",
        "Tell me about a moment that made you smile with Sir Adnan."
      ],
      "bye": [
        "Goodbye! Have a wonderful day! ğŸ‰",
        "See you later â€” thanks for the wishes!"
      ],
      "goodbye": [
        "Goodbye! Stay blessed. ğŸŒŸ"
      ],
      "help": [
        "I can help you create a beautiful birthday message. Try: 'Write a short wish for Sir Adnan'.",
        "Ask me for jokes, quotes, or a heartfelt message â€” I'm here to help!"
      ],
      "write a wish": [
        "â€˜Sir Adnan, your mentorship has been a guiding light. Wishing you a blessed and joyful birthday.â€™",
        "â€˜Happy Birthday Sir Adnan â€” may your year ahead be full of success and smiles.â€™",
        "â€˜Dear Sir Adnan, thank you for your guidance. Best wishes on your special day!â€™"
      ],

      /* --------- NEW PROFESSIONAL / EMOTIONAL TEACHER RESPONSES --------- */
      "happy birthday": [
        "ğŸ‰ **Happy Birthday, Sir Adnan!** May this year bring peace, success and endless happiness.",
        "ğŸ‚ Your presence inspires students daily. Wishing you a year filled with blessings and joy.",
        "ğŸŒŸ May your special day shine as bright as the guidance you give to others.",
        "ğŸŠ Thank you for being a mentor who shapes minds and hearts. Happy Birthday!",
        "âœ¨ Your leadership and kindness make every day better. Warmest birthday wishes, Sir!"
      ],
      "sir": [
        "Your guidance makes difficult paths easier. Happy Birthday once again, Sir! ğŸ‰",
        "A teacher like you is a gift â€” respected and admired. ğŸŒŸ",
        "Your words stay in hearts longer than in books, Sir. ğŸ’™",
        "You inspire, you guide, you care â€” and thatâ€™s what makes you special."
      ],
      "teacher": [
        "A true teacher doesn't just teach â€” they inspire. Thank you for being that person. ğŸ",
        "Happy Birthday to an educator whose impact is beyond words. ğŸŒŸ"
      ]
    };

    const randomFallback = [
      "Your words carry warmth â€” keep spreading kindness. ğŸ’™",
      "Some people teach; some inspire. You celebrate someone who inspires. ğŸŒŸ",
      "That was sweet â€” your message added a spark to the moment!",
      "If appreciation had a sound, yours would be the warmest. âœ¨",
      "Sometimes the smallest words create the biggest smiles. ğŸ˜Š",
      "You're doing great â€” keep expressing beautifully.",
      "Your energy today is full of positivity â€” I like it!",
      "A little kindness goes a long way, and you just proved that. ğŸ’«",
      "Your messages brighten the chat â€” thank you!",
      "If good vibes had a shape, yours would be a star. â­",
      "May today bring peace and something to smile about.",
      "Your thoughts reflect a beautiful heart. âœ¨",
      "Every message from you feels meaningful.",
      "Sending a soft reminder: You are appreciated. ğŸ’›",
      "Letâ€™s celebrate moments, memories, and good wishes together."
    ];

    function pick(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function showTypingThenReply(replyText, typingMs = 1000) {
      const chat = document.getElementById("chatMessages");
      const typing = document.createElement("div");
      typing.className = "typing";
      typing.innerHTML = '<span class="dot"></span><span class="dot"></span><span class="dot"></span>';
      chat.appendChild(typing);
      chat.scrollTop = chat.scrollHeight;

      setTimeout(() => {
        typing.remove();
        const bot = document.createElement("div");
        bot.className = "msg bot";
        bot.innerText = replyText;
        chat.appendChild(bot);
        chat.scrollTop = chat.scrollHeight;
      }, typingMs);
    }

    function generateReply(userText) {
      const text = userText.toLowerCase();
      const keys = Object.keys(keywordResponses).sort((a,b)=> b.length - a.length);

      for (let k of keys) {
        if (text.includes(k)) {
          return pick(keywordResponses[k]);
        }
      }

      if (text.length < 3) {
        return "Could you type a bit more? I want to make a lovely reply! ğŸ’¬";
      }

      return pick(randomFallback);
    }

    function handleSend() {
      const input = document.getElementById("userInput");
      const msg = input.value.trim();
      if (!msg) return;

      const chat = document.getElementById("chatMessages");
      const user = document.createElement("div");
      user.className = "msg user";
      user.innerText = msg;
      chat.appendChild(user);
      chat.scrollTop = chat.scrollHeight;

      input.value = "";
      input.focus();

      const computedTypingMs = Math.min(1800, 600 + Math.max(0, msg.length * 30));
      const reply = generateReply(msg);
      showTypingThenReply(reply, computedTypingMs);
    }

    document.getElementById("userInput").addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        e.preventDefault();
        handleSend();
      }
    });

    document.getElementById("sendBtn").addEventListener("click", handleSend);

    (function initialHints() {
      const chat = document.getElementById("chatMessages");
      const hint = document.createElement("div");
      hint.className = "msg bot";
      hint.innerText = "Tip: Try â€˜Happy Birthdayâ€™, â€˜Tell me a jokeâ€™, â€˜Write a wishâ€™, or â€˜How are you?â€™";
      chat.appendChild(hint);
      chat.scrollTop = chat.scrollHeight;
    })();
  </script>

</body>
</html>
